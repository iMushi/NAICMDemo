{"version":3,"sources":["/Sandbox/angular4/NAICMDemo/src/app/layout/login/login-routing.ts","/Sandbox/angular4/NAICMDemo/src/app/layout/login/login.component.css","/Sandbox/angular4/NAICMDemo/src/app/layout/login/login.component.html","/Sandbox/angular4/NAICMDemo/src/app/layout/login/login.component.ts","/Sandbox/angular4/NAICMDemo/src/app/layout/login/login.module.ts","/Sandbox/angular4/NAICMDemo/src/app/models/User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAyC;AACc;AACN;AAEjD,IAAM,MAAM,GAAW;IACtB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,wEAAc,EAAE;CACvC,CAAC;AAMF,IAAa,YAAY;IAAzB;IAA4B,CAAC;IAAD,mBAAC;AAAD,CAAC;AAAhB,YAAY;IAJxB,uEAAQ,CAAC;QACT,OAAO,EAAE,CAAC,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,qEAAY,CAAC;KACvB,CAAC;GACW,YAAY,CAAI;AAAJ;;;;;;;;ACZzB;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,sHAAsH,mKAAmK,aAAa,4MAA4M,+BAA+B,0QAA0Q,iBAAiB,+ZAA+Z,oBAAoB,sMAAsM,iKAAiK,6KAA6K,uB;;;;;;;;;;;;;;;;;;;;;;;;;;ACAnsD;AACU;AAChB;AACgC;AACpB;AAEf;AACN;AAUjC,IAAa,cAAc;IAM1B,wBAAoB,cAA6B,EACtC,KAAkB,EAClB,OAAe;QAFN,mBAAc,GAAd,cAAc,CAAe;QACtC,UAAK,GAAL,KAAK,CAAa;QAClB,YAAO,GAAP,OAAO,CAAQ;QAJnB,gBAAW,GAAW,EAAE,CAAC;QAWzB,cAAS,GAA6B;YAC5C,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,EAAE;SACd,CAAC;QAEK,aAAQ,GAA+C;YAC7D,KAAK,EAAE;gBACN,UAAU,EAAE,iBAAiB;gBAC7B,OAAO,EAAE,sBAAsB;aAC/B;YACD,QAAQ,EAAE;gBACT,UAAU,EAAE,qBAAqB;aACjC;SACD;QAnBA,IAAI,CAAC,OAAO,GAAG,IAAI,6DAAO,EAAE,CAAC;IAC9B,CAAC;IAqBD,iCAAQ,GAAR;QAAA,iBAuBC;QArBA,IAAI,CAAC,SAAS,GAAG,IAAI,iEAAS,CAAC;YAC9B,KAAK,EAAE,IAAI,mEAAW,CAAC,EAAE,EACxB,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7D,QAAQ,EAAE,IAAI,mEAAW,CAAC,EAAE,EAC3B,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC3C,CAAC,CAAC;QAGH,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CACpC,cAAI,IAAI,YAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAvB,CAAuB,CAC/B,CAAC;QAGF,EAAE,CAAC,CAAC,CAAC,yDAAW,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;YAC1C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAE9B,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;gBAClC,UAAU,EAAE,QAAQ;gBACpB,KAAK,EAAE,QAAQ;gBACf,GAAG,EAAE,OAAO;aACZ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAY,GAAZ,UAAa,IAAS;QAErB,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;YAC3B,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,OAAO;gBACpD,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;YAEvC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACd,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACvD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;gBAC1D,CAAC;YACF,CAAC;QACF,CAAC;IACF,CAAC;IAED,iCAAQ,GAAR,UAAS,IAAY;QAArB,iBAuBC;QArBA,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC,KAAK;QACb,CAAC;QAAC,IAAI,CAAC,CAAC;YAEP,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;YAE1B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CACvC,aAAG;gBACF,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC3B,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;oBACpB,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChE,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9B,CAAC;YACF,CAAC,EACD,UAAC,GAAsB;gBACtB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;gBACrC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACxB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAClB,CAAC,CACD,CAAC;QACH,CAAC;IACF,CAAC;IACF,qBAAC;AAAD,CAAC;AA/FY,cAAc;IAP1B,wEAAS,CAAC;QACV,QAAQ,EAAE,WAAW;QACrB,yFAAqC;QACrC,wFAAoC;QACpC,SAAS,EAAE,CAAC,yEAAW,CAAC;KACxB,CAAC;yDAQmC,6EAAa,oBAAb,6EAAa,sDAC/B,yEAAW,oBAAX,yEAAW,sDACT,+DAAM,oBAAN,+DAAM;GARd,cAAc,CA+F1B;AA/F0B;;;;;;;;;;;;;;;;;;;;;;;ACjBY;AACM;AACmB;AACf;AACJ;AAa7C,IAAa,WAAW;IAAxB;IACA,CAAC;IAAD,kBAAC;AAAD,CAAC;AADY,WAAW;IAXvB,uEAAQ,CAAC;QACT,OAAO,EAAE;YACR,qEAAY;YACZ,mEAAW;YACX,2EAAmB;YACnB,oEAAY;SACZ;QACD,YAAY,EAAE;YACb,wEAAc;SACd;KACD,CAAC;GACW,WAAW,CACvB;AADuB;;;;;;;;;ACdxB;AAAA;IAGC,iBAAmB,GAAgB,EACzB,QAAqB,EACrB,IAAiB,EACjB,KAAkB,EAClB,IAAiB,EACjB,OAAoB;QALX,8BAAgB;QACzB,wCAAqB;QACrB,gCAAiB;QACjB,kCAAkB;QAClB,gCAAiB;QACjB,sCAAoB;QALX,QAAG,GAAH,GAAG,CAAa;QACzB,aAAQ,GAAR,QAAQ,CAAa;QACrB,SAAI,GAAJ,IAAI,CAAa;QACjB,UAAK,GAAL,KAAK,CAAa;QAClB,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAa;IAC9B,CAAC;IACF,cAAC;AAAD,CAAC","file":"login.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {LoginComponent} from \"./login.component\";\n\nconst routes: Routes = [\n\t{ path: '', component: LoginComponent }\n];\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule]\n})\nexport class LoginRouting { }\n\n\n\n// WEBPACK FOOTER //\n// /Sandbox/angular4/NAICMDemo/src/app/layout/login/login-routing.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Sandbox/angular4/NAICMDemo/src/app/layout/login/login.component.css\n// module id = ../../../../../src/app/layout/login/login.component.css\n// module chunks = login.module","module.exports = \"<div class=\\\"container-fluid\\\">\\n\\n\\t<div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-2\\\">\\n\\t\\t&nbsp;\\n\\t</div>\\n\\t<div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-8\\\">\\n\\t\\t<div class=\\\"alert alert-danger alert-dismissable\\\" *ngIf=\\\"statusLogin !== '' \\\">\\n\\t\\t\\t{{statusLogin}}\\n\\t\\t</div>\\n\\n\\t\\t<form (ngSubmit)=\\\"onSubmit(loginForm)\\\"   [formGroup]=\\\"loginForm\\\"   >\\n\\t\\t\\t<div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\">\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error' : formError.email }\\\">\\n\\t\\t\\t\\t\\t<label>Correo Electronico</label>\\n\\t\\t\\t\\t\\t<input type=\\\"email\\\" name=\\\"email\\\"  formControlName=\\\"email\\\" class=\\\"form-control\\\" required>\\n\\t\\t\\t\\t\\t<span class=\\\"alert-warning col-lg-12 col-md-12 col-sm-12 col-xs-12\\\" *ngIf=\\\"formError.email\\\">{{formError.email}}</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\n\\n\\t\\t\\t<div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\">\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<label>Contraseña</label>\\n\\t\\t\\t\\t\\t<input type=\\\"password\\\" name=\\\"password\\\"  formControlName=\\\"password\\\"   class=\\\"form-control\\\" required>\\n\\t\\t\\t\\t\\t<span class=\\\"alert alert-warning col-lg-12 col-md-12 col-sm-12 col-xs-12\\\" *ngIf=\\\"formError.password\\\">{{formError.password}}</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12\\\">\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"center-block\\\" style=\\\"width: 94px;\\\">\\n\\t\\t\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" [disabled] = '!loginForm.valid'>\\n\\t\\t\\t\\t\\t\\t\\t<i class=\\\"glyphicon glyphicon-log-in\\\">&nbsp;</i>Entrar\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</form>\\n\\t</div>\\n\\n\\t<div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-2\\\">\\n\\t\\t&nbsp;\\n\\t</div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Sandbox/angular4/NAICMDemo/src/app/layout/login/login.component.html\n// module id = ../../../../../src/app/layout/login/login.component.html\n// module chunks = login.module","import {Component, OnInit} from '@angular/core';\nimport {PrestoService} from \"../../common/presto.service\";\nimport {Usuario} from \"../../models/User\";\nimport {FormControl, FormGroup, NgForm, Validators} from \"@angular/forms\";\nimport {AuthService} from \"../../common/auth.service\";\nimport {IUserResponse} from \"../../models/interface\";\nimport {Router} from \"@angular/router\";\nimport {isUndefined} from \"util\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\n\n@Component({\n\tselector: 'app-login',\n\ttemplateUrl: './login.component.html',\n\tstyleUrls: ['./login.component.css'],\n\tproviders: [AuthService]\n})\n\nexport class LoginComponent implements OnInit {\n\n\tprivate Usuario: Usuario;\n\tprivate identity: IUserResponse;\n\tpublic statusLogin: string = '';\n\n\tconstructor(private _prestoService: PrestoService\n\t\t, private _auth: AuthService\n\t\t, private _router: Router) {\n\t\tthis.Usuario = new Usuario();\n\t}\n\n\n\tpublic loginForm;\n\n\tpublic formError: { [id: string]: string } = {\n\t\t'email': '',\n\t\t'password': ''\n\t};\n\n\tpublic errorMsg: { [id: string]: { [id: string]: string } } = {\n\t\temail: {\n\t\t\t'required': 'Ingrese E-mail.',\n\t\t\t'email': 'E-mail no es valido.'\n\t\t},\n\t\tpassword: {\n\t\t\t'required': 'Ingrese Contraseña.'\n\t\t}\n\t}\n\n\n\tngOnInit() {\n\n\t\tthis.loginForm = new FormGroup({\n\t\t\temail: new FormControl(\"\",\n\t\t\t\tValidators.compose([Validators.required, Validators.email])),\n\t\t\tpassword: new FormControl(\"\",\n\t\t\t\tValidators.compose([Validators.required]))\n\t\t});\n\n\n\t\tthis.loginForm.valueChanges.subscribe(\n\t\t\tdata => this.validateData(data)\n\t\t);\n\n\n\t\tif (!isUndefined(this._auth.getIdentity()))\n\t\t\tthis._router.navigate(['/']);\n\n\t\tthis._prestoService.setBreadCrumb([{\n\t\t\trouterLink: '/login',\n\t\t\tclass: 'active',\n\t\t\ttxt: 'Login'\n\t\t}]);\n\t}\n\n\tvalidateData(data: any) {\n\n\t\tfor (let field in this.formError) {\n\t\t\tthis.formError[field] = '';\n\t\t\tlet hasError = this.loginForm.controls[field].touched &&\n\t\t\t\t!this.loginForm.controls[field].valid;\n\n\t\t\tif (hasError) {\n\t\t\t\tfor (let key in this.loginForm.controls[field].errors) {\n\t\t\t\t\tthis.formError[field] += this.errorMsg[field][key] + ' ';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tonSubmit(form: NgForm) {\n\n\t\tif (form.invalid) {\n\t\t\treturn false\n\t\t} else {\n\n\t\t\tthis.Usuario = form.value;\n\n\t\t\tthis._auth.login(this.Usuario).subscribe(\n\t\t\t\tres => {\n\t\t\t\t\tif (res.user && res.token) {\n\t\t\t\t\t\tthis.identity = res;\n\t\t\t\t\t\tlocalStorage.setItem('identity', JSON.stringify(this.identity));\n\t\t\t\t\t\tthis._router.navigate(['/']);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t(err: HttpErrorResponse) => {\n\t\t\t\t\tthis.statusLogin = err.error.message;\n\t\t\t\t\tconsole.log(\"=======>\");\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Sandbox/angular4/NAICMDemo/src/app/layout/login/login.component.ts","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {LoginComponent} from \"./login.component\";\nimport {LoginRouting} from \"./login-routing\";\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tReactiveFormsModule,\n\t\tLoginRouting\n\t],\n\tdeclarations: [\n\t\tLoginComponent\n\t]\n})\nexport class LoginModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Sandbox/angular4/NAICMDemo/src/app/layout/login/login.module.ts","import { IUsuario } from './interface';\n\n\nexport class Usuario implements IUsuario {\n\n\n\tconstructor(public _id: string = '',\n\t\t\t\tpublic password: string = '',\n\t\t\t\tpublic role: string = '',\n\t\t\t\tpublic email: string = '',\n\t\t\t\tpublic name: string = '',\n\t\t\t\tpublic surname: string = '') {\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Sandbox/angular4/NAICMDemo/src/app/models/User.ts"],"sourceRoot":"webpack:///"}